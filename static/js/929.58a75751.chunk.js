"use strict";(self.webpackChunkjs_wallet_sdk_brc20_demo=self.webpackChunkjs_wallet_sdk_brc20_demo||[]).push([[929],{5439:(e,s,t)=>{t.d(s,{M:()=>l});var n=t(4294),i=t(184);const l=e=>{let{buttonText:s,onClick:t,disabled:l=!1,testId:a=""}=e;return(0,i.jsx)(n.Z,{size:"small",variant:"contained",sx:{backgroundColor:"black",borderRadius:2},onClick:t,disabled:l,"data-testid":a,children:s})}},233:(e,s,t)=>{t.d(s,{d:()=>c});var n=t(5289),i=t(5661),l=t(9157),a=t(1691),r=t(7123),d=t(4294),o=t(184);const c=e=>{let{title:s,content:t,closeButtonText:c="No",confirmButtonText:x="Yes",showDialog:u=!1,handleClose:p,handleConfirm:h}=e;return(0,o.jsxs)(n.Z,{open:u,onClose:p||h,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,o.jsx)(i.Z,{id:"alert-dialog-title",children:s}),(0,o.jsx)(l.Z,{children:(0,o.jsx)(a.Z,{id:"alert-dialog-description",children:t})}),(0,o.jsxs)(r.Z,{children:[p&&(0,o.jsx)(d.Z,{onClick:p,children:c}),(0,o.jsx)(d.Z,{onClick:h,autoFocus:!0,children:x})]})]})}},3929:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var n=t(2791),i=t(7257),l=t(7621),a=t(9504),r=t(890),d=t(7924),o=t(1889),c=t(3400),x=t(2363),u=t(4070),p=t(7317),h=t(194),g=t(1004),j=t(5439),v=t(4215),b=t(8255),w=t(6972),y=t(184);const m=e=>{let{setCoinType:s,setNetwork:t,setSegwitType:n}=e;const{walletStore:i}=(0,w.oR)(),l=i.coinTypeMapping.map((e=>({network:e.network,label:`${e.network} - ${e.label}`,value:e.label})));return(0,y.jsx)(v.Z,{options:l,sx:{width:288,py:1,pr:1},renderInput:e=>(0,y.jsx)(b.Z,{...e,label:"Coin Type"}),onChange:(e,i)=>{s(null===i||void 0===i?void 0:i.value),t("BTC"===(null===i||void 0===i?void 0:i.network)?null===i||void 0===i?void 0:i.network:void 0),"BTC"!==(null===i||void 0===i?void 0:i.network)&&n()},isOptionEqualToValue:(e,s)=>e.value===s.value,groupBy:e=>e.network,"data-testid":"autocomplete-coin-type",defaultValue:l[0]})},k=e=>{let{setSegwitType:s}=e;const t=[{label:"legacy",value:void 0,enumValue:0},{label:"segwit_native",value:"segwit_native",enumValue:3},{label:"segwit_nested",value:"segwit_nested",enumValue:1},{label:"segwit_nested_49",value:"segwit_nested_49",enumValue:2},{label:"segwit_taproot",value:"segwit_taproot",enumValue:4}];return(0,y.jsx)(v.Z,{options:t,sx:{width:288,py:1,pr:1},renderInput:e=>(0,y.jsx)(b.Z,{...e,label:"Segwit Type"}),onChange:(e,t)=>{s(t)},isOptionEqualToValue:(e,s)=>!e.value||e.value===s.value,groupBy:e=>e.network,"data-testid":"autocomplete-segwit",defaultValue:t[0]})};var Z=t(233),T=t(7247),f=t(9581);const C=(0,i.Pi)((e=>{let{walletInfo:s,index:t,callback:n}=e;const{appStore:i,walletStore:l}=(0,w.oR)();return(0,y.jsxs)("div",{children:[(0,y.jsxs)(u.Z,{severity:"success","data-testid":`wallet-info-${t}`,children:[(0,y.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(o.ZP,{item:!0,xs:!0,children:(0,y.jsx)(p.Z,{children:"Success"})}),(0,y.jsxs)(o.ZP,{item:!0,children:[(0,y.jsx)(c.Z,{onClick:()=>((e,s,t)=>{let n=t.getWallet(e.coinType);n?n.validAddress({address:e.address})?(s.snackBarMessage="Address is valid",s.openSnackBar=!0):(s.snackBarMessage="Address is invalid",s.openSnackBar=!0):(s.snackBarMessage="No such wallet",s.openSnackBar=!0)})(s,i,l),children:(0,y.jsx)(f.Z,{fontSize:"small"})}),(0,y.jsx)(c.Z,{onClick:()=>((e,s)=>{navigator.clipboard.writeText(JSON.stringify(e)),s.snackBarMessage="Copied to clipboard",s.openSnackBar=!0})(s,i),children:(0,y.jsx)(h.Z,{fontSize:"small"})}),(0,y.jsx)(c.Z,{onClick:()=>((e,s)=>{s.snackBarMessage="Address deleted",s.openSnackBar=!0,e()})(n,i),children:(0,y.jsx)(T.Z,{fontSize:"small"})})]})]}),s.coinType&&(0,y.jsx)("strong",{children:`Chain: ${s.coinType}`}),s.chainId?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Chain ID: ${s.chainId}`})]}):null,s.segwitType&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Segwit Type: ${s.segwitType}`})]}),s.derivedPath&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Derivation Path: ${s.derivedPath}`})]}),s.privateKey&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Private Key: ${s.privateKey}`})]}),s.address&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Address: ${s.address}`})]}),s.publicKey&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("br",{}),(0,y.jsx)("strong",{children:`Public Key: ${s.publicKey}`})]})]}),(0,y.jsx)(d.Z,{flexItem:!0},"divider")]})})),S=(0,i.Pi)((()=>{const[e,s]=(0,n.useState)("BTC"),[t,i]=(0,n.useState)(),[v,b]=(0,n.useState)(),[T,f]=(0,n.useState)(),[S,B]=(0,n.useState)(""),[I,_]=(0,n.useState)(!1),{walletStore:P,appStore:M}=(0,w.oR)(),{isInit:K,walletInfos:V,chainsAvailable:$}=P,{walletId:F}=M;(0,n.useEffect)((()=>{s("BTC"),f(),B(""),_(!1)}),[K]);return K?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Z,{variant:"outlined",sx:{minWidth:275,borderRadius:5},children:[(0,y.jsx)(a.Z,{sx:{pb:1},children:(0,y.jsx)(r.Z,{sx:{fontSize:26},children:"Generate Mnemonic"})}),(0,y.jsx)(d.Z,{flexItem:!0}),(0,y.jsx)(a.Z,{sx:{pb:0},children:(0,y.jsx)(r.Z,{sx:{fontSize:20,pb:1},children:"Mnemonic"})}),(0,y.jsx)(a.Z,{sx:{py:1,mx:2,borderRadius:2,backgroundColor:"#f7f7f7"},children:(0,y.jsxs)(o.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,y.jsx)(o.ZP,{item:!0,xs:!0,children:T?(0,y.jsx)(r.Z,{sx:{minHeight:24,fontSize:16},children:T}):(0,y.jsx)(r.Z,{sx:{minHeight:24,fontSize:16,color:"#929292"},children:'Click "Generate Mnemonic" to randomly generate mnemonic'})}),(0,y.jsx)(o.ZP,{item:!0,children:T?(0,y.jsx)(c.Z,{onClick:()=>((e,s)=>{navigator.clipboard.writeText(e),s.snackBarMessage="Copied to clipboard",s.openSnackBar=!0})(T,M),children:(0,y.jsx)(h.Z,{})}):null})]})}),(0,y.jsx)(x.Z,{sx:{p:2},children:(0,y.jsx)(j.M,{buttonText:"Generate Mnemonic",onClick:async()=>{try{const e=await g.bip39.generateMnemonic();f(e)}catch(e){console.error(e)}},disabled:!K||!!T||!!F,testId:"generate-mnemonic"})}),!!T&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(a.Z,{sx:{pb:0},children:(0,y.jsx)(r.Z,{sx:{fontSize:20},children:"Coin Type"})}),(0,y.jsxs)(x.Z,{sx:{pl:2,pr:2,pb:2},children:[(0,y.jsx)(m,{setCoinType:s,setNetwork:i,setSegwitType:b}),t&&(0,y.jsx)(k,{setSegwitType:b}),(0,y.jsx)(j.M,{buttonText:"Derive Address",onClick:async()=>{if(e)if(V.findIndex((s=>s.coinType===e&&s.segwitType===(null===v||void 0===v?void 0:v.value)))>-1)_(!0);else try{B("");let n=P.getWallet(e);if(n){var s;const i={index:0};"BTC"===t&&null!==v&&void 0!==v&&v.enumValue&&Object.assign(i,{segwitType:null===v||void 0===v?void 0:v.enumValue});const l=await n.getDerivedPath(i),a=await n.getDerivedPrivateKey({mnemonic:T,hdPath:l}),r={privateKey:a};"BTC"===t&&null!==v&&void 0!==v&&v.value&&Object.assign(r,{addressType:"segwit_nested_49"===(null===v||void 0===v?void 0:v.value)?"segwit_nested":null===v||void 0===v?void 0:v.value});const d=await n.getNewAddress(r),o={chainId:$?null===(s=$.find((s=>s.name===e)))||void 0===s?void 0:s.chainId:"BTC"===e?0:1,coinType:e,segwitType:v?v.value:void 0,derivedPath:l,privateKey:a,address:d.address};d.publicKey&&Object.assign(o,{publicKey:d.publicKey}),P.setWalletInfos([o,...V])}}catch(n){console.error(n),B(n.toString())}else B("Please select a coin type!")},disabled:!K||!T||!e,testId:"derive-address"})]}),S&&(0,y.jsxs)(u.Z,{severity:"error",children:[(0,y.jsx)(p.Z,{children:"Failure"}),S]}),V&&V.map(((e,s)=>e?(0,y.jsx)(C,{walletInfo:e,index:s,callback:()=>(e=>{P.setWalletInfos(V.toSpliced(e,1))})(s)},`wallet-info-${s}`):null))]})]},"generate-mnemonic-card"),(0,y.jsx)(Z.d,{title:"Already created",content:"The Private Key is already created, please try other coin types!",showDialog:I,handleConfirm:()=>{_(!1)}})]}):null}))}}]);
//# sourceMappingURL=929.58a75751.chunk.js.map